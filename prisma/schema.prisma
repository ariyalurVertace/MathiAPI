generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["selectRelationCount"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model address {
  id              Int               @id
  name            String
  addressline1    String
  addressline2    String?
  stateid         Int
  districtid      Int
  postalcode      Int?
  landmark        String?
  isdeleted       Boolean?          @default(false)
  district        district          @relation(fields: [districtid], references: [id])
  customerprofile customerprofile[]
  sellerprofile   sellerprofile[]
}

model category {
  id               Int        @id
  name             String
  parentCategoryId Int?
  category         category?  @relation("categoryTocategory_parentCategoryId", fields: [parentCategoryId], references: [id])
  other_category   category[] @relation("categoryTocategory_parentCategoryId")
  product          product[]
}

model customerprofile {
  id          Int      @id
  firstname   String
  lastname    String
  phonenumber Int
  emailid     Int
  addressid   Int
  isdeleted   Boolean? @default(false)
  address     address  @relation(fields: [addressid], references: [id])
}

model district {
  id        Int       @id
  name      String
  stateid   Int
  isdeleted Boolean?  @default(false)
  state     state     @relation(fields: [stateid], references: [id])
  address   address[]
}

model product {
  id            Int           @id
  name          String
  image         String
  price         Decimal       @db.Decimal
  description   String
  stock         Int
  categoryId    Int
  sellerId      Int
  category      category      @relation(fields: [categoryId], references: [id])
  sellerprofile sellerprofile @relation(fields: [sellerId], references: [id])
}

model sellerprofile {
  id          Int       @id
  firstname   String
  lastname    String
  phonenumber Int
  emailid     String
  addressid   Int
  isapproved  Boolean?  @default(false)
  isdeleted   Boolean?  @default(false)
  address     address   @relation(fields: [addressid], references: [id])
  product     product[]
}

model state {
  id        Int        @id
  name      String?
  isdeleted Boolean
  district  district[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model user {
  id        BigInt?
  firstName String? @db.VarChar
  lastName  String? @db.VarChar
  password  String? @db.VarChar
  email     String? @db.VarChar
  userName  String? @db.VarChar

  @@ignore
}
